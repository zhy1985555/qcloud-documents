

## 功能简介

角色权限用于给应用的不同使用者添加不同的操作权限设置。权限在aPaaS应用中分为三大类，分别是页面功能权限、数据权限、流程权限。每一类在应用搭建的过程中会生成若干个权限子项，例如新建了一个页面，此时就会在功能权限中新增一个与之对应的页面访问控制权限子项。在千帆神笔 aPaaS 中，需要将角色与用户进行绑定，实现用户与权限的关联。
同时，神笔提供在两种状态下添加角色入口，分别是：在设计态情况下供开发者使用的预设角色管理，为方便预设角色和自定义角色随应用打包发布；以及在运行态情况下供业务人员使用的角色管理，为方便终端用户在使用应用过程中自定义添加角色。 

## 预设角色管理

在设计态情况下供开发者使用的预设角色管理，为方便预设角色和自定义角色随应用打包发布。 

### 角色设置

#### 操作路径

登录 [千帆神笔 aPaaS 设计态](https://apaas.cloud.tencent.com/) 首页，进入应用设计，单击**应用设置**＞**角色权限**＞**预设角色管理**页面进行角色权限设置。

![1645588641207](https://qcloudimg.tencent-cloud.cn/raw/9b0e7dc66e57ceba6fc037e5aaa3d735.png)

#### 新建角色

当前系统已经预设一些角色权限，如果不能满足业务需求，可以单击**新建角色**进行新增角色权限配置。

> 新增权限策略中默认授权代表：当应用中有新增的权限项产生时，自动向有该应用访问权限且默认授权的角色授予此新增权限项。默认不授权代表：有新增的权限项产生时，默认对本角色不授予此新增权限项。

[![image-20211207161040223](https://qcloudimg.tencent-cloud.cn/raw/21df415404e8fb8d16bc539b7cf763c3.png)](https://camo.githubusercontent.com/34f61759b2a8a319101ab7be8af9d95211b67acf9d3969dbafd6c3b1cd56911a/68747470733a2f2f71636c6f7564696d672e74656e63656e742d636c6f75642e636e2f7261772f61316133623832646132656135346136306563363838356531666263613232362e706e67)

#### 复制角色

角色管理页面的**复制**功能用于复制当前角色及角色下配置的权限。[![image-20211207162016494](https://qcloudimg.tencent-cloud.cn/raw/cfc1ccb16d1f5b41bd58dca0d4601cbd.png)](https://camo.githubusercontent.com/faf480084473ec44f02fe16fdf96e8c52ff38d9e2fbf683a329244f797919f81/68747470733a2f2f71636c6f7564696d672e74656e63656e742d636c6f75642e636e2f7261772f33633063313064333266663439623462376437363737613330353662303461312e706e67)

#### 权限配置

对新增角色和预设角色的权限设置可单击**权限配置**按钮进行操作设置，权限配置支持设置功能权限、数据权限和流程权限，可根据业务需求针对不同角色进行不同权限配置。 [![image-20211221114107235](https://qcloudimg.tencent-cloud.cn/raw/1d45367a9f899443640903d02e6a8c1a.png)](https://camo.githubusercontent.com/82998467bc89555bb197215d14be321f34dab44fe21467766e12b7c889c356a5/68747470733a2f2f71636c6f7564696d672e74656e63656e742d636c6f75642e636e2f7261772f34633634356262303666366131623139353436393037313064613235613432342e706e67) 权限配置界面如下： [![image-20211221114658820](https://qcloudimg.tencent-cloud.cn/raw/61ebc8a4ffeb3b13dc701cc333a04d13.png)](https://camo.githubusercontent.com/1164fdb26323a1061f64a3437d6931da67cda8f901dcb4548b27f6610f66d7af/68747470733a2f2f71636c6f7564696d672e74656e63656e742d636c6f75642e636e2f7261772f64316565633437356535353965346633646533646362343432313661326235662e706e67)

#### 删除角色

如需删除多余的角色，可单击**删除**按钮进行操作。

> 预设角色不可以删除，只能删除开发者新增的角色。

[![image-20211221114757596](https://qcloudimg.tencent-cloud.cn/raw/9cfff32ac7a50d4395cee5f5398b5a4d.png)](https://camo.githubusercontent.com/4f1d0ad7f8bba6db5048e3b86b77ecad06efd33bf41a152931e9f455db9701c5/68747470733a2f2f71636c6f7564696d672e74656e63656e742d636c6f75642e636e2f7261772f63366439666461353162353935623961643366383333623033623038656630322e706e67)

#### 编辑角色

如需重置角色名称或权限策略等，可单击**编辑**按钮进行操作。

> 预设角色不可以编辑，只能编辑开发者新增的角色。

[![image-20211221115012184](https://qcloudimg.tencent-cloud.cn/raw/e19d04cb5627c46ce2b7d5cbae3a8768.png)](https://camo.githubusercontent.com/705229bd622ac0e1b2111564e08cae26df174053cc52227eba5ea6ebca748a34/68747470733a2f2f71636c6f7564696d672e74656e63656e742d636c6f75642e636e2f7261772f66376539643137323730393133626363333263326231306431303432633039342e706e67) 修改界面如下： [![image-20211221115029688](https://qcloudimg.tencent-cloud.cn/raw/552396b1e4043f3bc67a64bfdf710b3f.png	)](https://camo.githubusercontent.com/b40f041f3ca9a24e6847d573e2f45ec51320a609dd00a1f81905396586f5fef0/68747470733a2f2f71636c6f7564696d672e74656e63656e742d636c6f75642e636e2f7261772f30333232623330306362656238646262646435313235303132663133326363662e706e67)

### 角色与用户绑定

1. 登录千帆神笔 aPaaS 运行态首页，单击**管理后台**按钮。[![image-20211207163804884](https://qcloudimg.tencent-cloud.cn/raw/1347fbb1fb529bacb8e267de8061b0ec.png)](https://camo.githubusercontent.com/d6f97f17189a56b088018416bc0f4642665f26b0604ec5a0228f3f809f653a1c/68747470733a2f2f71636c6f7564696d672e74656e63656e742d636c6f75642e636e2f7261772f63343566333432616366366635323435633564613235316330333562666566312e706e67)
2. 单击**用户权限＞角色管理**页面，选择需要授权的应用以及应用下的角色。[![image-20211207165901594](https://qcloudimg.tencent-cloud.cn/raw/ed53bac20713a11c3460faac23dc3790.png)](https://camo.githubusercontent.com/c54266b01f36833c52f9cb302ec2d07a925a1c28b58d53248a89507afa9b046a/68747470733a2f2f71636c6f7564696d672e74656e63656e742d636c6f75642e636e2f7261772f32643432373265363237316433376361386332343061636633323935633666392e706e67)
3. 单击**添加成员**或**添加部门**按钮，进行角色与用户绑定，将人员添加到对应角色中，单击**确定**按钮即可完成添加操作。[![image-20211207164711965](https://qcloudimg.tencent-cloud.cn/raw/4c77a1020c89c97b13a0e56621c10ea4.png)](https://camo.githubusercontent.com/90e7fdf3964dafcfab25cd5f78a39ed985e90c45920c9a58a15554f95c2b360b/68747470733a2f2f71636c6f7564696d672e74656e63656e742d636c6f75642e636e2f7261772f37343236326139323230316262326531653465613264366261373935393035352e706e67)

## 运行态角色管理

在运行态情况下供业务人员使用的角色管理，为方便终端用户在使用应用过程中自定义添加角色。

1.登录千帆神笔 aPaaS 运行态首页，单击**管理后台**按钮。[![image-20211207163804884](https://qcloudimg.tencent-cloud.cn/raw/1347fbb1fb529bacb8e267de8061b0ec.png)](https://camo.githubusercontent.com/d6f97f17189a56b088018416bc0f4642665f26b0604ec5a0228f3f809f653a1c/68747470733a2f2f71636c6f7564696d672e74656e63656e742d636c6f75642e636e2f7261772f63343566333432616366366635323435633564613235316330333562666566312e706e67)

2.单击**角色管理**页面，进入后单击**添加角色**按钮，创建角色。 [![image-20211207164827528](https://qcloudimg.tencent-cloud.cn/raw/c7e0ecb359172fa3928bcf1ba62fe2f4.png)](https://camo.githubusercontent.com/20ceba0aacf7a66b5b46cd4066ed74ffd6aa76465d8e175147bed4d001949081/68747470733a2f2f71636c6f7564696d672e74656e63656e742d636c6f75642e636e2f7261772f37323634386635336662303764353531613736393235663164343166613033632e706e67)

3.填写角色名称（必填项），角色描述（非必填项），权限策略（必填项）和所属应用（必填项）。

> 新增权限策略中默认授权代表：当应用中有新增的权限项产生时，自动向有该应用访问权限且默认授权的角色授予此新增权限项。默认不授权代表：有新增的权限项产生时，默认对本角色不授予此新增权限项。

4.已成功创建角色，建议单击**继续配置权限**按钮，为该角色配置业务权限。 [![image-20211207165237501](https://qcloudimg.tencent-cloud.cn/raw/b7d2889de43d4ef60e45a662675d27e8.png)](https://camo.githubusercontent.com/b33aeaf726e2052d81a394c03c4bd48b3135d53d50fcde90716de7c252e31799/68747470733a2f2f71636c6f7564696d672e74656e63656e742d636c6f75642e636e2f7261772f32376161396265323939653162633037333634623935396535326565303138362e706e67)
5.根据该角色的业务需求设置功能权限、数据权限和流程权限。 [![image-20211207165258522](https://qcloudimg.tencent-cloud.cn/raw/4c77a1020c89c97b13a0e56621c10ea4.png)](https://camo.githubusercontent.com/6b509d6df80c457c07ee5cddbec06daba7c703bc954a010d4084cdd0103ed26c/68747470733a2f2f71636c6f7564696d672e74656e63656e742d636c6f75642e636e2f7261772f65393637393038383730316137643866653034636166616238333062623538302e706e67)

