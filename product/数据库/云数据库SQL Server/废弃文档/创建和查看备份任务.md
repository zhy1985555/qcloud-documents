云数据库 SQL Server 支持自动备份，您可以通过设置备份策略调整云数据库 SQL Server 的备份周期，也可以手动备份云数据库 SQL Server 的数据。

>!
>- 备份文件存储在独立的备份空间，不会占用实例本地磁盘空间。
>- 备份期间不要执行 DDL 操作，避免锁表导致备份失败。
>- 尽量选择业务低峰期进行备份。
>- 若数据量较大，花费的时间可能较长，请耐心等待。

## 备份对象
| **数据备份**                                                 | **日志备份**                                                 |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| <li>目前支持完全备份（Full Backup）。 <li>支持定时备份（每日备份一次）和手动备份。   <li>支持多库备份，即可以指定对实例中的单个或多个数据库进行备份。 <li> 支持实例备份，即对整个实例的所有数据库进行备份（定时备份采用实例备份）。  <li>备份文件有保留时间（7天），到期自动删除，请及时下载需要保留的备份文件到本地。  <li>暂不支持手动删除备份文件。 |  <li>目前支持日志备份（Transaction Log Backup）。<li>每30分钟进行一次日志备份，并上传到云端存储。   <li>暂不支持下载日志文件。</li> |

## 设置手动备份
>?手动备份前需确认已有创建好的数据库，可参见 [创建数据库](https://cloud.tencent.com/document/product/238/43284)。
>
用户可以在任意时间手动创建备份文件，支持实例备份和多库备份。具体步骤如下：
1. 登录 [SQL Server 控制台](https://console.cloud.tencent.com/sqlserver)，在实例列表，单击实例 ID 或**操作**列的**管理**，进入实例管理页面。
2. 在实例管理页面，选择**备份管理**页，单击**手动备份**。
3. 在弹出的对话框，填写备份名称，选择备份策略。
  - 备份名称：设置手动备份的备份名称。
  - 选择备份策略：实例备份（即整个实例的所有数据库）或多库备份，若选择多库备份，需选择要备份的数据库。
<img src="https://main.qcloudimg.com/raw/3a7b7a19f3f2235d9510cbd11110072e.png" style="zoom:40%;" /> 

## 设置定时备份
用户可设置定时备份时间，实现每天自动备份数据库。具体步骤如下：
1. 登录 [SQL Server 控制台](https://console.cloud.tencent.com/sqlserver)，在实例列表，单击实例 ID 或**操作**列的**管理**，进入实例管理页面。
2. 在实例管理页面，选择**备份管理**页，单击**自动备份设置**，选择定时备份的时间段，单击**保存**。
<img src="https://main.qcloudimg.com/raw/74562ac9810d37eaa01739efff590cca.png" style="zoom:50%;" />

## 配置备份任务
备份任务配置用于设置手动备份和定时备份的全局变量，包含设置备份文件形式及备份任务执行选项。
- 备份文件形式：用于设置实例的备份文件是打包备份文件还是单库备份文件，默认为将实例备份打包后上传至 COS，当选择单库备份文件后，会将该实例每个数据库的 .bak 文件不经打包直接上传至 COS 上进行保存。
- 备份任务执行选项：用于设置备份任务所在的执行实例，是在主实例进行备份任务还是在从实例进行备份任务，默认为在主实例进行备份任务。

>?仅2017/2019集群版实例支持设置备份任务执行实例。

1. 登录 [SQL Server 控制台](https://console.cloud.tencent.com/sqlserver)，在实例列表，单击实例 ID 或**操作**列的**管理**，进入实例管理页面。
2. 在实例管理页面，选择**备份管理**页，单击**备份任务配置**。
3. 在弹出的对话框，配置任务。单击**保存**。
<img src="https://main.qcloudimg.com/raw/a0bb58dbc83ad7b01d612ed2565eb947.png" style="zoom:50%;" />

## 查看备份任务
1. 登录 [SQL Server 控制台](https://console.cloud.tencent.com/sqlserver)，在实例列表，单击实例 ID 或**操作**列的**管理**，进入实例管理页面。
2. 在实例管理页面，选择**备份管理**页， 在备份列表中可查看每一个备份任务的相关信息。
 - 若备份文件形式设置为打包备份，则备份列表的备份信息展示为单层列表，包含备份开始时间、备份结束时间、备份名称、备份策略、备份方式、备份大小、数据库、状态、操作（下载、还原、删除）等。</span>
![](https://main.qcloudimg.com/raw/b70b65fc171fff4bbbcba94f2903e972.png)
 - 若备份文件形式设置为单库备份，则备份列表的备份信息展示为内外双层列表，外层列表展示实例维度的备份相关信息，包含：备份开始时间、备份结束时间、备份名称、备份策略、备份方式、数据库、状态等，内层列表展示该实例所包含的数据库维度的备份相关信息，包含数据库名称、备份大小、操作（下载、还原、删除）等。</span>
![](https://main.qcloudimg.com/raw/ebacba6be232c02225422e41e362c768.png)

